<!--
    File:   mobileEvent07.html
            禁止全面事件的隐患：滚动条失效
            需要自定义滚动条

    Author: yiluqingtai(1572236483@qq.com)
            Created on 21/4/30
-->

<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <!--1、理想视口-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0,
        minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <title></title>
        <style type="text/css">
            * {
                margin: 0;
                padding: 0;
            }
            #test {
                width: 200px;
                height: 200px;
                background: pink;
                overflow: auto;
                text-align: center;
                line-height: 200px;
            }
        </style>
    </head>
    <body>
        <div id="test">testtesttesttesttesttesttesttest</div>
    </body>
    <script type="text/javascript">
        
        window.onload = function() {
            /*2、全面禁止移动端事件*/
            /*
                隐患：页面上所有的滚动条失效
                解决：自定义滚动条
            */
            document.addEventListener('touchstart', function(ev) {
                ev = ev||event;
                ev.preventDefault();
            }, {passive: false});

            
            /*3、移动端适配*/
            (function() {
                var styleNode = document.createElement('style');
                var w = document.documentElement.clientWidth / 16;
                styleNode.innerHTML = "html{font-size:"+ w + "px!important}";
                document.head.appendChild(styleNode);
            })();
        };

    </script>
</html>